# generator-ticker

[![NPM Package](https://img.shields.io/badge/NPM-generator--ticker-brightgreen)](https://www.npmjs.com/package/generator-ticker)
[![GitHub Repo](https://img.shields.io/badge/GitHub-generator--ticker-blue)](https://github.com/joeycumines/generator-ticker)
[![Code Style: Google](https://img.shields.io/badge/code%20style-google-blueviolet.svg)](https://github.com/google/gts)

## What is this?

Do things, particularly async things, on a regular interval.
Avoid drift, by treating the interval as a maximum rate, adjusting for slow
receivers, and dropping missed ticks if necessary.

This implementation was inspired by Go's
[time.NewTicker](https://pkg.go.dev/time#NewTicker).

## Usage

```ts
const {newTicker} = require('generator-ticker');

// the last two parameters (count, initial) are optional
for await (const tick of newTicker(1000, 10, true)) {
  console.log(tick);
}
```

## Installation

Install or import the NPM package `generator-ticker`. Should work in most
environments, including browsers, Node.js, and Deno.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

*   [newTicker](#newticker)
    *   [Parameters](#parameters)

### newTicker

Creates an asynchronous ticker that yields Date objects at a specified
interval. The ticker will adjust the interval or drop ticks, to make up for
slow receivers. It avoids drift by using the time from the last tick as the
basis for the next tick.

#### Parameters

*   `interval` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** The interval duration, in milliseconds.
    Must be a number >= 0.
*   `count`  The number of times to tick. A negative value indicates an
    unlimited number of times. Defaults to -1 (unlimited). (optional, default `-1`)
*   `initial`  If true, the ticker will immediately yield the current
    Date as the first tick. Defaults to false. (optional, default `false`)

Returns **AsyncGenerator<[Date](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date), void>** An AsyncGenerator that yields Dates at the given interval.
